(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6619],{32990:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add/[[...currency]]",function(){return i(19755)}])},5349:function(e,n,i){"use strict";var o=i(7297),t=i(19521),l=i(57247);function r(){var e=(0,o.Z)(["\n  border-top: 1px solid ",";\n  ","\n"]);return r=function(){return e},e}var d=t.ZP.div.withConfig({componentId:"sc-5ed8a823-0"}).withConfig({componentId:"sc-cddac6ee-0"})(r(),(function(e){return e.theme.colors.cardBorder}),l.Dh);d.defaultProps={p:"24px"},n.Z=d},63822:function(e,n,i){"use strict";var o=i(26042),t=i(69396),l=i(85893),r=(i(67294),i(44976));n.Z=function(e){return(0,l.jsx)(r.Z,(0,t.Z)((0,o.Z)({viewBox:"0 0 24 24"},e),{children:(0,l.jsx)("path",{d:"M8.71005 11.71L11.3001 14.3C11.6901 14.69 12.3201 14.69 12.7101 14.3L15.3001 11.71C15.9301 11.08 15.4801 10 14.5901 10H9.41005C8.52005 10 8.08005 11.08 8.71005 11.71Z"})}))}},46882:function(e,n,i){"use strict";i.d(n,{Z:function(){return j}});var o=i(828),t=i(7297),l=i(85893),r=i(85937),d=i(62077),s=i(98768),a=i(21812),c=i(98553),u=i(12410),p=i(19521),v=i(30445),h=i(941),g=i(19259),x=i(97477),m=i(97119),y=i(73938),C=i(41166);function R(){var e=(0,t.Z)(["\n  padding: 8px 0;\n  width: 100%;\n  max-width: 400px;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n  color: ",";\n  background-color: ",";\n  text-align: center;\n"]);return R=function(){return e},e}var N=p.ZP.div.withConfig({componentId:"sc-9845e0bb-0"})(R(),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.invertedContrast})),f=function(e){var n=e.currencies,i=e.onDismiss,o=(0,x.Z)().chainId,t=(0,u.$G)().t,a=o&&n?n.map((function(e){return(0,y.pu)(e,o)})):[],c=(0,C.l6)();return(0,l.jsx)(r.Z,{title:t("Unsupported Assets"),onDismiss:i,children:(0,l.jsxs)(h.Tz,{gap:"lg",children:[a.map((function(e){var n;return e&&c&&Object.keys(c).includes(e.address)&&(0,l.jsxs)(h.Tz,{gap:"10px",children:[(0,l.jsxs)(v.BA,{gap:"5px",align:"center",children:[(0,l.jsx)(g.Xw,{currency:e,size:"24px"}),(0,l.jsx)(d.Z,{children:e.symbol})]}),o&&(0,l.jsx)(s.Z,{external:!0,small:!0,color:"primaryDark",href:(0,m.C)(e.address,"address",o),children:e.address})]},null===(n=e.address)||void 0===n?void 0:n.concat("not-supported"))})),(0,l.jsx)(h.Tz,{gap:"lg",children:(0,l.jsx)(d.Z,{children:t("Some assets are not available through this interface because they may not work well with our smart contract or we are unable to allow trading for legal reasons.")})})]})})};function j(e){var n=e.currencies,i=(0,u.$G)().t,t=(0,o.Z)((0,a.Z)((0,l.jsx)(f,{currencies:n})),1)[0];return(0,l.jsx)(N,{children:(0,l.jsx)(c.Z,{variant:"text",onClick:t,children:i("Read more about unsupported assets")})})}},19755:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSG:function(){return on},default:function(){return tn}});var o=i(26042),t=i(99534),l=i(828),r=i(85893),d=i(10386),s=i(41166),a=i(97477),c=i(19915),u=i(11163),p=i(67294),v=i(2795),h=i(21568),g=i(81103),x=i(47568),m=i(14924),y=i(69396),C=i(36305),R=i(97582),N=i(2593),f=i(1505),j=i(88896),b=i(21812),E=i(70257),A=i(27208),Z=i(62077),B=i(96484),U=i(98553),_=i(94998),S=i(70486),T=i(94293),w=i(12410),k=i(46882),Y=i(36963),q=i(8414),I=i(52036),z=i(54146),P=i(61026),M=i(80692),D=i(78809),L=i(47455),F=i(56974),O=i(95934),G=i(941),V=i(38227),H=i(88254),K=i(26688),X=i(30445),Q=i(72409),$=i(71633),W=i(94544),J=i(25490),ee=i(50192),ne=i(56906),ie=i(93888),oe=i(97119),te=i(17937),le=i(11372),re=i(73938),de=i(32519);var se=function(e){var n,i,o,t,l,d,s,a,c,u,p,v,g=e.currencies,x=e.noLiquidity,m=e.poolTokenPercentage,y=e.price,C=(0,w.$G)().t;return(0,r.jsx)(G.Tz,{gap:"md",children:(0,r.jsxs)(X.BA,{justify:"space-around",gap:"4px",children:[(0,r.jsxs)(G.Tz,{justify:"center",children:[(0,r.jsx)(Z.Z,{children:null!==(d=null===y||void 0===y?void 0:y.toSignificant(6))&&void 0!==d?d:"-"}),(0,r.jsx)(Z.Z,{fontSize:"14px",pt:1,children:C("%assetA% per %assetB%",{assetA:null!==(s=null===(n=g[h.gN.CURRENCY_B])||void 0===n?void 0:n.symbol)&&void 0!==s?s:"",assetB:null!==(a=null===(i=g[h.gN.CURRENCY_A])||void 0===i?void 0:i.symbol)&&void 0!==a?a:""})})]}),(0,r.jsxs)(G.Tz,{justify:"center",children:[(0,r.jsx)(Z.Z,{children:null!==(c=null===(o=null===y||void 0===y?void 0:y.invert())||void 0===o?void 0:o.toSignificant(6))&&void 0!==c?c:"-"}),(0,r.jsx)(Z.Z,{fontSize:"14px",pt:1,children:C("%assetA% per %assetB%",{assetA:null!==(u=null===(t=g[h.gN.CURRENCY_A])||void 0===t?void 0:t.symbol)&&void 0!==u?u:"",assetB:null!==(p=null===(l=g[h.gN.CURRENCY_B])||void 0===l?void 0:l.symbol)&&void 0!==p?p:""})})]}),(0,r.jsxs)(G.Tz,{justify:"center",children:[(0,r.jsxs)(Z.Z,{children:[x&&y?"100":null!==(v=(null===m||void 0===m?void 0:m.lessThan(F.IS))?"<0.01":null===m||void 0===m?void 0:m.toFixed(2))&&void 0!==v?v:"0","%"]}),(0,r.jsx)(Z.Z,{fontSize:"14px",pt:1,children:C("Share of Pool")})]})]})})},ae=i(26118),ce=i(51931),ue=i(54820),pe=i(14841),ve=i.n(pe),he=i(7297),ge=i(44147),xe=i(44976),me=i(75943),ye=i(19521),Ce=i(19259);function Re(){var e=(0,he.Z)(["\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n"]);return Re=function(){return e},e}var Ne=(0,ye.ZP)(ge.Z).withConfig({componentId:"sc-5d64f706-0"})(Re()),fe=function(e){var n=e.percent,i=void 0===n?1:n,l=(0,t.Z)(e,["percent"]);return(0,r.jsxs)(xe.Z,(0,y.Z)((0,o.Z)({width:"60px",height:"60px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l),{children:[(0,r.jsxs)("g",{filter:"url(#filter0_i_1147_113741)",children:[(0,r.jsx)("circle",{r:"10",cx:"10",cy:"10",fill:"#7645D9"}),(0,r.jsx)("circle",{r:"5",cx:"10",cy:"10",fill:"transparent",stroke:"#1FC7D4",strokeWidth:"10",strokeDasharray:"calc(".concat(100*i,"px * 31.4 / 100) 31.4"),transform:"rotate(-90) translate(-20)"})]}),(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:"filter0_i_1147_113741",x:0,y:0,width:60,height:60,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:-2}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow_1147_113741"})]})})]}))},je=function(e){var n=e.children;return(0,r.jsx)(Z.Z,{fontSize:"12px",textTransform:"uppercase",bold:!0,color:"secondary",children:n})},be=function(e){var n=e.title,i=e.percent,o=e.currencyA,t=e.currencyB,l=e.currencyAValue,d=e.currencyBValue,s=e.tooltipTargetRef;return(0,r.jsxs)(G.Tz,{gap:"8px",children:[(0,r.jsx)(je,{children:n}),(0,r.jsxs)(me.Z,{children:["undefined"!==typeof i&&(0,r.jsx)("div",{ref:s,children:(0,r.jsx)(fe,{percent:i,mr:"34px"})}),(0,r.jsxs)(G.Tz,{style:{width:"100%"},children:[o&&(0,r.jsxs)(X.m0,{children:[(0,r.jsxs)(X.BA,{gap:"4px",children:[(0,r.jsx)(Ne,{bg:"primary"}),(0,r.jsx)(Ce.Xw,{currency:o}),(0,r.jsx)(Z.Z,{children:null===o||void 0===o?void 0:o.symbol})]}),(0,r.jsx)(Z.Z,{children:l})]}),t&&(0,r.jsxs)(X.m0,{children:[(0,r.jsxs)(X.BA,{gap:"4px",children:[(0,r.jsx)(Ne,{bg:"secondary"}),(0,r.jsx)(Ce.Xw,{currency:t}),(0,r.jsx)(Z.Z,{children:null===t||void 0===t?void 0:t.symbol})]}),(0,r.jsx)(Z.Z,{children:d})]})]})]})]})},Ee=function(e){var n,i,o,t,l,d,s,a,c=e.currencies,u=e.poolTokenPercentage,p=e.liquidityMinted,v=e.price,h=e.allowedSlippage,g=e.noLiquidity,x=e.children,m=(0,w.$G)().t,y=(0,j.Z)(m("Output is estimated. If the price changes by more than %slippage%% your transaction will revert.",{slippage:h/100}),{placement:"auto"}),C=y.tooltip,R=y.tooltipVisible,N=y.targetRef;return(0,r.jsxs)(G.Tz,{gap:"24px",children:[(0,r.jsxs)(G.Tz,{gap:"8px",children:[(0,r.jsx)(je,{children:m("You will receive")}),(0,r.jsx)(O.h2,{children:(0,r.jsxs)(X.m0,{children:[(0,r.jsxs)(X.BA,{gap:"4px",children:[(0,r.jsx)(Ce.ge,{currency0:c[ue.g.CURRENCY_A],currency1:c[ue.g.CURRENCY_B],size:24}),(0,r.jsx)(Z.Z,{color:"textSubtle",children:(null===(n=c[ue.g.CURRENCY_A])||void 0===n?void 0:n.symbol)&&(null===(i=c[ue.g.CURRENCY_B])||void 0===i?void 0:i.symbol)&&(0,z.z)(null===(o=c[ue.g.CURRENCY_A])||void 0===o?void 0:o.symbol,null===(t=c[ue.g.CURRENCY_B])||void 0===t?void 0:t.symbol)})]}),(0,r.jsx)(Z.Z,{ml:"8px",children:null===p||void 0===p?void 0:p.toSignificant(6)})]})})]}),(0,r.jsxs)(X.m0,{children:[(0,r.jsx)(je,{children:m("Your pool share")}),(0,r.jsxs)(Z.Z,{children:[g?"100":null===u||void 0===u?void 0:u.toSignificant(4),"%"]})]}),(0,r.jsx)(G.Tz,{gap:"8px",children:x}),(0,r.jsxs)(G.Tz,{children:[(0,r.jsxs)(X.m0,{children:[(0,r.jsx)(je,{children:m("Rates")}),(0,r.jsx)(Z.Z,{children:"1 ".concat(null===(l=c[ue.g.CURRENCY_A])||void 0===l?void 0:l.symbol," = ").concat(null===v||void 0===v?void 0:v.toSignificant(4)," ").concat(null===(d=c[ue.g.CURRENCY_B])||void 0===d?void 0:d.symbol)})]}),(0,r.jsx)(X.m0,{style:{justifyContent:"flex-end"},children:(0,r.jsx)(Z.Z,{children:"1 ".concat(null===(s=c[ue.g.CURRENCY_B])||void 0===s?void 0:s.symbol," = ").concat(null===v||void 0===v?void 0:v.invert().toSignificant(4)," ").concat(null===(a=c[ue.g.CURRENCY_A])||void 0===a?void 0:a.symbol)})})]}),!g&&(0,r.jsxs)(X.m0,{children:[(0,r.jsx)(je,{children:m("Slippage Tolerance")}),(0,r.jsxs)(_.Z,{ref:N,children:[h/100,"%"]}),R&&C]})]})},Ae=function(e){var n=e.title,i=e.onDismiss,o=e.customOnDismiss,t=e.attemptingTxn,l=e.hash,d=e.pendingText,s=e.price,a=e.currencies,c=e.noLiquidity,u=e.allowedSlippage,v=e.parsedAmounts,h=e.liquidityErrorMessage,g=e.onAdd,x=e.poolTokenPercentage,m=e.liquidityMinted,y=e.currencyToAdd,C=e.isStable,R=(0,w.$G)().t,N=.5;if(C&&v[ue.g.CURRENCY_A]&&v[ue.g.CURRENCY_B]){var f=ve()(v[ue.g.CURRENCY_A].toSignificant(6)),j=ve()(v[ue.g.CURRENCY_B].toSignificant(6));N=f/(f+j)}var b=(0,p.useCallback)((function(){var e,n;return(0,r.jsx)(Ee,{allowedSlippage:u,currencies:a,liquidityMinted:m,poolTokenPercentage:x,price:s,noLiquidity:c,children:(0,r.jsx)(be,{title:R("Input"),percent:N,currencyA:a[ue.g.CURRENCY_A],currencyAValue:null===(e=v[ue.g.CURRENCY_A])||void 0===e?void 0:e.toSignificant(6),currencyB:a[ue.g.CURRENCY_B],currencyBValue:null===(n=v[ue.g.CURRENCY_B])||void 0===n?void 0:n.toSignificant(6)})})}),[u,N,a,m,c,v,x,s,R]),E=(0,p.useCallback)((function(){return(0,r.jsx)(U.Z,{width:"100%",onClick:g,mt:"20px",children:R(c?"Create Pool & Supply":"Confirm Supply")})}),[c,g,R]),A=(0,p.useCallback)((function(){return h?(0,r.jsx)(ce.ht,{onDismiss:i,message:h}):(0,r.jsx)(ce.pM,{topContent:b,bottomContent:E})}),[i,E,b,h]);return(0,r.jsx)(ce.ZP,{minWidth:["100%",,"420px"],title:n,onDismiss:i,customOnDismiss:o,attemptingTxn:t,currencyToAdd:y,hash:l,content:A,pendingText:d})},Ze=i(45203),Be=i(19639),Ue=i(81135),_e=function(e){var n,i,o,t,d=e.title,s=e.onDismiss,c=e.customOnDismiss,u=e.attemptingTxn,v=e.hash,h=e.pendingText,g=e.price,x=e.currencies,y=e.zapSwapTokenField,C=e.zapSwapOutTokenField,R=e.allowedSlippage,N=e.parsedAmounts,b=e.liquidityErrorMessage,E=e.onAdd,A=e.poolTokenPercentage,B=e.liquidityMinted,_=e.pair,S=e.zapInEstimated,T=e.rebalancing,k=e.zapMode,Y=e.toggleZapMode,q=(0,w.$G)().t,I=(0,a.Z)().chainId,z=(0,Be.Z)(_.liquidityToken),P=N[y],M=N[C],D=(0,j.Z)(P&&!M?q("There is no %token1% input. Half of %token0% input is converted into %token1% to add liquidity.",{token0:null===(n=x[y])||void 0===n?void 0:n.symbol,token1:null===(i=x[C])||void 0===i?void 0:i.symbol}):q("There is not enough %token1% input to match 50/50. Some of %token0% will be converted to %token1%",{token0:null===(o=x[y])||void 0===o?void 0:o.symbol,token1:null===(t=x[C])||void 0===t?void 0:t.symbol}),{placement:"auto-start"}),L=D.targetRef,F=D.tooltip,O=D.tooltipVisible,V=(0,l.Z)(_&&z&&B&&f.QA.greaterThanOrEqual(z.quotient,B.quotient)?[_.getLiquidityValue(_.token0,z,B,!1),_.getLiquidityValue(_.token1,z,B,!1)]:[void 0,void 0],2),H=V[0],K=V[1],Q=(0,p.useMemo)((function(){return S&&f.ih.fromRawAmount((0,re.pu)(x[y],I),S.swapAmountIn.toString())}),[I,x,S,y]),$=(0,p.useMemo)((function(){return(null===S||void 0===S?void 0:S.swapAmountOut)&&f.ih.fromRawAmount((0,re.pu)(x[C],I),S.swapAmountOut.toString())}),[I,x,null===S||void 0===S?void 0:S.swapAmountOut,C]),W=(0,p.useMemo)((function(){return P&&M?(e=+P.toExact()/+M.toExact()/(+_.priceOf(M.currency.wrapped).toSignificant()+ +P.toExact()/+M.toExact()),n=.05,i=.95,Math.min(Math.max(e,n),i)):P&&!M?1:void 0;var e,n,i}),[_,P,M]),J=(0,p.useMemo)((function(){var e;return e={},(0,m.Z)(e,y,(null===Q||void 0===Q?void 0:Q.currency)&&(null===_||void 0===_?void 0:_.token0)?_.token0.equals(Q.currency)?H:K:void 0),(0,m.Z)(e,C,(null===$||void 0===$?void 0:$.currency)&&(null===_||void 0===_?void 0:_.token1)?_.token1.equals($.currency)?K:H:void 0),e}),[_.token0,_.token1,null===Q||void 0===Q?void 0:Q.currency,null===$||void 0===$?void 0:$.currency,H,K,C,y]),ee=(0,p.useCallback)((function(){var e,n;return(0,r.jsxs)(Ee,{allowedSlippage:R,currencies:x,liquidityMinted:B,poolTokenPercentage:A,price:g,children:[(0,r.jsx)(be,{title:q("Input"),percent:W,currencyA:P?x[y]:void 0,currencyAValue:null===P||void 0===P?void 0:P.toSignificant(6),currencyB:M?x[C]:void 0,currencyBValue:null===M||void 0===M?void 0:M.toSignificant(6)}),$&&Q&&x[y]&&x[C]&&(0,r.jsxs)(G.Tz,{justify:"center",gap:"16px",children:[(0,r.jsx)(Ze.Z,{color:"textSubtle"}),(0,r.jsxs)(X.BA,{gap:"6px",justify:"center",children:[(0,r.jsxs)(X.DA,{gap:"2px",children:[(0,r.jsx)(Z.Z,{children:null===Q||void 0===Q?void 0:Q.toSignificant(6)}),(0,r.jsx)(Ce.Xw,{currency:x[y]}),(0,r.jsx)(Z.Z,{children:x[y].symbol})]}),(0,r.jsx)(Z.Z,{children:q("to")}),(0,r.jsxs)(X.DA,{gap:"2px",children:[(0,r.jsx)(Z.Z,{children:null===$||void 0===$?void 0:$.toSignificant(6)}),(0,r.jsx)(Ce.Xw,{currency:x[C]}),(0,r.jsx)(Z.Z,{children:x[C].symbol})]})]}),(0,r.jsx)(Ze.Z,{color:"textSubtle"})]}),(0,r.jsxs)(G.Tz,{gap:"4px",children:[O&&F,(0,r.jsx)(be,{tooltipTargetRef:L,title:q("Pooled"),percent:.5,currencyA:x[y],currencyAValue:null===J||void 0===J||null===(e=J[y])||void 0===e?void 0:e.toSignificant(6),currencyB:x[C],currencyBValue:null===J||void 0===J||null===(n=J[C])||void 0===n?void 0:n.toSignificant(6)})]})]})}),[R,x,B,A,g,q,W,P,y,M,C,$,Q,F,O,L,J]),ne=(0,p.useCallback)((function(){return(0,r.jsx)(U.Z,{width:"100%",onClick:E,mt:"20px",children:q("Confirm Supply")})}),[E,q]),ie=(0,p.useCallback)((function(){return b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ue.p,{isSingleToken:!T,zapMode:k,toggleZapMode:Y,onModalDismiss:s}),(0,r.jsx)(ce.ht,{onDismiss:s,message:b})]}):(0,r.jsx)(ce.pM,{topContent:ee,bottomContent:ne})}),[b,T,k,Y,s,ee,ne]);return(0,r.jsx)(ce.ZP,{minWidth:["100%",,"420px"],title:d,onDismiss:s,customOnDismiss:c,attemptingTxn:u,currencyToAdd:null===_||void 0===_?void 0:_.liquidityToken,hash:v,content:ie,pendingText:h})},Se=i(5349),Te=i(63822),we=i(4601),ke=i(59123),Ye=i(5460),qe=i(2629);function Ie(){var e=(0,he.Z)(["\n  width: 100%;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0px 16px;\n  box-shadow: ",";\n  border: 1px solid ",";\n  border-radius: 16px;\n  background: ",";\n  transition: border-radius 0.15s;\n"]);return Ie=function(){return e},e}function ze(){var e=(0,he.Z)(["\n  cursor: pointer;\n  width: 100%;\n  position: relative;\n  background: ",";\n  border-radius: 16px;\n  height: 40px;\n  min-width: 136px;\n  user-select: none;\n  z-index: 20;\n\n  "," {\n    min-width: 168px;\n  }\n\n  .down-icon {\n    position: absolute;\n    right: 16px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"]);return ze=function(){return e},e}var Pe=ye.ZP.div.withConfig({componentId:"sc-6d2b68d1-0"})(Ie(),(function(e){return e.theme.shadows.inset}),(function(e){return e.theme.colors.inputSecondary}),(function(e){return e.theme.colors.input})),Me=(0,ye.ZP)(U.Z).withConfig({componentId:"sc-6d2b68d1-1"})(ze(),(function(e){return e.theme.colors.input}),(function(e){return e.theme.mediaQueries.sm})),De=function(e){var n,i=e.onCurrencySelect,d=e.selectedCurrency,s=e.otherSelectedCurrency,c=e.showCommonBases,u=e.commonBasesType,p=e.hideBalance,v=(0,t.Z)(e,["onCurrencySelect","selectedCurrency","otherSelectedCurrency","showCommonBases","commonBasesType","hideBalance"]),h=(0,a.Z)().account,g=(0,Ye._h)(null!==h&&void 0!==h?h:void 0,!p&&d?d:void 0),x=(0,w.$G)().t,m=(0,l.Z)((0,b.Z)((0,r.jsx)(we.Z,{onCurrencySelect:i,selectedCurrency:d,otherSelectedCurrency:s,showCommonBases:c,commonBasesType:u})),1)[0],C=(0,qe.ZP)(g&&d?d:void 0),R=g&&(null===C||void 0===C?void 0:C.quote(g));return(0,r.jsxs)(ge.Z,(0,y.Z)((0,o.Z)({width:"100%"},v),{children:[(0,r.jsxs)(Me,{p:0,onClick:m,children:[(0,r.jsx)(Pe,{children:(0,r.jsx)(Z.Z,{id:"pair",color:d?void 0:"text",children:d?(0,r.jsxs)(me.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(Ce.Xw,{currency:d,size:"24px",style:{marginRight:"8px"}}),(0,r.jsx)(Z.Z,{id:"pair",bold:!0,children:d&&d.symbol&&d.symbol.length>20?"".concat(d.symbol.slice(0,4),"...").concat(d.symbol.slice(d.symbol.length-5,d.symbol.length)):null===d||void 0===d?void 0:d.symbol})]}):(0,r.jsx)(r.Fragment,{children:x("Select")})})}),(0,r.jsx)(Te.Z,{color:"text",className:"down-icon"})]}),h&&!!d&&!p&&(0,r.jsxs)(ge.Z,{children:[(0,r.jsxs)(X.BA,{justify:"space-between",gap:"2px",children:[(0,r.jsxs)(Z.Z,{color:"textSubtle",fontSize:"12px",children:[x("Balance"),":"]}),(0,r.jsx)(Z.Z,{fontSize:"12px",children:null!==(n=null===g||void 0===g?void 0:g.toSignificant(6))&&void 0!==n?n:x("Loading")})]}),(0,r.jsxs)(X.m0,{children:[(0,r.jsx)("div",{}),Number.isFinite(+(null===R||void 0===R?void 0:R.toExact()))&&(0,r.jsxs)(Z.Z,{fontSize:"12px",color:"textSubtle",children:["~$",(0,ke.uf)(+R.toExact())]})]})]})]}))},Le=i(44142),Fe=i(59604),Oe=i(29159),Ge=function(){var e=(0,c.Z)(),n=(0,u.useRouter)(),i=(0,l.Z)(n.query.currency||[],2),o=i[0],t=i[1];return{handleCurrencyASelect:(0,p.useCallback)((function(e){var i=(0,Oe.Z)(e);i===t?n.replace("/add/".concat(t,"/").concat(o),void 0,{shallow:!0}):t?n.replace("/add/".concat(i,"/").concat(t),void 0,{shallow:!0}):n.replace("/add/".concat(i),void 0,{shallow:!0})}),[t,n,o]),handleCurrencyBSelect:(0,p.useCallback)((function(i){var l=(0,Oe.Z)(i);o===l?t?n.replace("/add/".concat(t,"/").concat(l),void 0,{shallow:!0}):n.replace("/add/".concat(l),void 0,{shallow:!0}):n.replace("/add/".concat(o||e.symbol,"/").concat(l),void 0,{shallow:!0})}),[o,n,t,e])}},Ve=i(93156);function He(e){var n=e.currencyA,i=e.currencyB,o=e.error,t=e.onNext,d=(0,w.$G)().t,s=(0,a.Z)().account,c=!o,u=Ge(),p=u.handleCurrencyASelect,v=u.handleCurrencyBSelect,h=(0,l.Z)((0,$.yX)(n,i),2)[1],g=(0,L.aT)(h),x=(0,j.Z)(d("Based on last 7 days' performance. Does not account for impermanent loss"),{placement:"bottom"}),m=x.targetRef,y=x.tooltip,C=x.tooltipVisible;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.t,{title:d("Add Liquidity"),subtitle:d("Receive LP tokens"),helper:d("Liquidity providers."),backTo:"/liquidity"}),(0,r.jsx)(E.Z,{children:(0,r.jsxs)(ge.Z,{children:[(0,r.jsx)(Z.Z,{textTransform:"uppercase",color:"secondary",bold:!0,small:!0,pb:"24px",children:d("Choose a valid pair")}),(0,r.jsxs)(Le.O,{gap:"4px",children:[(0,r.jsx)(De,{id:"add-liquidity-select-tokena",selectedCurrency:n,onCurrencySelect:p,showCommonBases:!0,commonBasesType:Ve.L0.LIQUIDITY}),(0,r.jsx)(B.Z,{color:"textSubtle"}),(0,r.jsx)(De,{id:"add-liquidity-select-tokenb",selectedCurrency:i,onCurrencySelect:v,showCommonBases:!0,commonBasesType:Ve.L0.LIQUIDITY})]}),h&&g&&(0,r.jsxs)(X.m0,{mt:"24px",children:[(0,r.jsx)(_.Z,{ref:m,bold:!0,fontSize:"12px",color:"secondary",children:d("LP reward APR")}),C&&y,(0,r.jsxs)(Z.Z,{bold:!0,color:"primary",children:[(0,Fe.d)(g.lpApr7d),"%"]})]})]})}),(0,r.jsx)(Se.Z,{children:s?(0,r.jsx)(I.A,{"data-test":"choose-pair-next",width:"100%",variant:c?"primary":"danger",onClick:t,disabled:!c,children:null!==o&&void 0!==o?o:d("Add Liquidity")}):(0,r.jsx)(Q.Z,{width:"100%"})})]})}var Ke,Xe=i(25099);!function(e){e[e.Choose=0]="Choose",e[e.Add=1]="Add"}(Ke||(Ke={}));var Qe=(0,q._M)();function $e(e){var n,i,d,s,c,v,g,q,ce,ue,pe,ve,he,ge,xe,me,ye,Ce,Re,Ne,fe,je,be,Ee,Ze,Be,Ue,Se,Te=e.currencyA,we=e.currencyB,ke=(0,u.useRouter)(),Ye=(0,a.Z)(),qe=Ye.account,Ie=Ye.chainId,ze=Ye.isWrongNetwork,Pe=(0,ie.uB)(),Me=(0,l.Z)((0,ie.$f)(),1)[0],De=(0,ie.LO)(),Le=(0,p.useState)(!0),Oe=Le[0],$e=Le[1],We=(0,p.useState)(Ke.Choose),Je=We[0],en=We[1],nn=(0,w.$G)().t,on=(0,ie.Fh)();(0,p.useEffect)((function(){"1"===ke.query.step&&en(Ke.Add)}),[ke.query]);var tn,ln,rn,dn,sn,an,cn,un,pn,vn=(0,p.useMemo)((function(){return!!Me&&Oe}),[Me,Oe]),hn=(0,ee.OY)(),gn=hn.independentField,xn=hn.typedValue,mn=hn.otherTypedValue,yn=(0,ee.Qw)(null!==Te&&void 0!==Te?Te:void 0,null!==we&&void 0!==we?we:void 0),Cn=yn.dependentField,Rn=yn.currencies,Nn=yn.pair,fn=yn.pairState,jn=yn.currencyBalances,bn=yn.parsedAmounts,En=yn.price,An=yn.noLiquidity,Zn=yn.liquidityMinted,Bn=yn.poolTokenPercentage,Un=yn.error,_n=yn.addError,Sn=(0,L.aT)(Nn),Tn=(0,j.Z)(nn("Based on last 7 days' performance. Does not account for impermanent loss"),{placement:"bottom"}),wn=Tn.targetRef,kn=Tn.tooltip,Yn=Tn.tooltipVisible,qn=(0,ee.OA)(An),In=qn.onFieldAInput,zn=qn.onFieldBInput,Pn=(0,p.useState)({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),Mn=Pn[0],Dn=Mn.attemptingTxn,Ln=Mn.liquidityErrorMessage,Fn=Mn.txHash,On=Pn[1],Gn=(0,p.useState)(!0),Vn=Gn[0],Hn=Gn[1],Kn=(0,p.useState)(!0),Xn=Kn[0],Qn=Kn[1],$n=Vn&&(null===jn||void 0===jn||null===(n=jn[h.gN.CURRENCY_A])||void 0===n?void 0:n.greaterThan(0)),Wn=Xn&&(null===jn||void 0===jn||null===(i=jn[h.gN.CURRENCY_B])||void 0===i?void 0:i.greaterThan(0)),Jn=(0,J.Z)(),ei=(0,l.Z)((0,ie.$2)(),1)[0],ni=[h.gN.CURRENCY_A,h.gN.CURRENCY_B].reduce((function(e,n){return(0,y.Z)((0,o.Z)({},e),(0,m.Z)({},n,(0,le.i)(jn[n])))}),{}),ii=(0,p.useMemo)((function(){return!!vn&&!An&&M.K.includes(Ie)&&!(Nn&&f.QA.lessThan(Nn.reserve0.quotient,f.Xh)||Nn&&f.QA.lessThan(Nn.reserve1.quotient,f.Xh))}),[Ie,An,Nn,vn]),oi=Ge(),ti=oi.handleCurrencyASelect,li=oi.handleCurrencyBSelect,ri=(0,ee.eM)({pair:Nn,canZap:ii,currencyA:Te,currencyB:we,currencyBalances:jn,zapTokenCheckedA:$n,zapTokenCheckedB:Wn,maxAmounts:ni}),di=ri.zapInEstimating,si=ri.rebalancing,ai=(0,t.Z)(ri,["zapInEstimating","rebalancing"]),ci=ii?ai.parsedAmounts:bn,ui=ii&&!ai.noNeedZap,pi=(0,p.useMemo)((function(){var e,n;return n={},(0,m.Z)(n,gn,ii&&(gn===h.gN.CURRENCY_A&&!$n||gn===h.gN.CURRENCY_B&&!Wn)?"":xn),(0,m.Z)(n,Cn,An?mn:null!==(tn=null===(e=ci[Cn])||void 0===e?void 0:e.toSignificant(6))&&void 0!==tn?tn:""),n}),[ii,Cn,gn,An,mn,ci,xn,$n,Wn]),vi=[h.gN.CURRENCY_A,h.gN.CURRENCY_B].reduce((function(e,n){var i,t;return(0,y.Z)((0,o.Z)({},e),(0,m.Z)({},n,null===(i=ni[n])||void 0===i?void 0:i.equalTo(null!==(t=ci[n])&&void 0!==t?t:"0")))}),{}),hi=(0,l.Z)((0,W.qL)(ci[h.gN.CURRENCY_A],ui?Qe:F.bR[Ie]),2),gi=hi[0],xi=hi[1],mi=(0,l.Z)((0,W.qL)(ci[h.gN.CURRENCY_B],ui?Qe:F.bR[Ie]),2),yi=mi[0],Ci=mi[1],Ri=(0,ne.h7)(),Ni=(0,te.Ti)();function fi(){return ji.apply(this,arguments)}function ji(){return ji=(0,x.Z)((function(){var e,n,i,t,l,r,d,s,a,c,u,p,v,g,x,f;return(0,R.__generator)(this,(function(R){switch(R.label){case 0:return Ie&&qe&&Ni?(e=bn[h.gN.CURRENCY_A],n=bn[h.gN.CURRENCY_B],e&&n&&Te&&we&&Jn?(i={},(0,m.Z)(i,h.gN.CURRENCY_A,(0,te.uc)(e,An?0:ei)[0]),(0,m.Z)(i,h.gN.CURRENCY_B,(0,te.uc)(n,An?0:ei)[0]),t=i,(null===Te||void 0===Te?void 0:Te.isNative)||(null===we||void 0===we?void 0:we.isNative)?(u=null===we||void 0===we?void 0:we.isNative,l=Ni.estimateGas.addLiquidityETH,r=Ni.addLiquidityETH,d=[null!==(p=null===(a=u?Te:we)||void 0===a||null===(c=a.wrapped)||void 0===c?void 0:c.address)&&void 0!==p?p:"",(u?e:n).quotient.toString(),t[u?h.gN.CURRENCY_A:h.gN.CURRENCY_B].toString(),t[u?h.gN.CURRENCY_B:h.gN.CURRENCY_A].toString(),qe,Jn.toHexString()],s=N.O$.from((u?n:e).quotient.toString())):(l=Ni.estimateGas.addLiquidity,r=Ni.addLiquidity,d=[null!==(x=null===Te||void 0===Te||null===(v=Te.wrapped)||void 0===v?void 0:v.address)&&void 0!==x?x:"",null!==(f=null===we||void 0===we||null===(g=we.wrapped)||void 0===g?void 0:g.address)&&void 0!==f?f:"",e.quotient.toString(),n.quotient.toString(),t[h.gN.CURRENCY_A].toString(),t[h.gN.CURRENCY_B].toString(),qe,Jn.toHexString()],s=null),On({attemptingTxn:!0,liquidityErrorMessage:void 0,txHash:void 0}),[4,l.apply(void 0,(0,C.Z)(d).concat([s?{value:s}:{}])).then((function(e){return r.apply(void 0,(0,C.Z)(d).concat([(0,y.Z)((0,o.Z)({},s?{value:s}:{}),{gasLimit:(0,oe.yC)(e,1),gasPrice:on})])).then((function(e){var n,i,o,t;On({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:e.hash});var l=null===(n=Rn[h.gN.CURRENCY_A])||void 0===n?void 0:n.symbol,r=null===(i=ci[h.gN.CURRENCY_A])||void 0===i?void 0:i.toSignificant(3),d=null===(o=Rn[h.gN.CURRENCY_B])||void 0===o?void 0:o.symbol,s=null===(t=ci[h.gN.CURRENCY_B])||void 0===t?void 0:t.toSignificant(3);Ri(e,{summary:"Add ".concat(r," ").concat(l," and ").concat(s," ").concat(d),translatableSummary:{text:"Add %amountA% %symbolA% and %amountB% %symbolB%",data:{amountA:r,symbolA:l,amountB:s,symbolB:d}},type:"add-liquidity"}),Nn&&Pe(Nn)}))})).catch((function(e){e&&4001!==e.code&&((0,S.H)(e),console.error("Add Liquidity failed",e,d,s)),On({attemptingTxn:!1,liquidityErrorMessage:e&&4001!==e.code?nn("Add liquidity failed: %message%",{message:(0,D.e)(e,nn)}):void 0,txHash:void 0})}))]):[2]):[2];case 1:return R.sent(),[2]}}))})),ji.apply(this,arguments)}var bi=ui?nn("Zapping %amountA% %symbolA% and %amountB% %symbolB%",{amountA:null!==(ln=null===(d=ci[h.gN.CURRENCY_A])||void 0===d?void 0:d.toSignificant(6))&&void 0!==ln?ln:"0",symbolA:null!==(rn=null===(s=Rn[h.gN.CURRENCY_A])||void 0===s?void 0:s.symbol)&&void 0!==rn?rn:"",amountB:null!==(dn=null===(c=ci[h.gN.CURRENCY_B])||void 0===c?void 0:c.toSignificant(6))&&void 0!==dn?dn:"0",symbolB:null!==(sn=null===(v=Rn[h.gN.CURRENCY_B])||void 0===v?void 0:v.symbol)&&void 0!==sn?sn:""}):nn("Supplying %amountA% %symbolA% and %amountB% %symbolB%",{amountA:null!==(an=null===(g=ci[h.gN.CURRENCY_A])||void 0===g?void 0:g.toSignificant(6))&&void 0!==an?an:"",symbolA:null!==(cn=null===(q=Rn[h.gN.CURRENCY_A])||void 0===q?void 0:q.symbol)&&void 0!==cn?cn:"",amountB:null!==(un=null===(ce=ci[h.gN.CURRENCY_B])||void 0===ce?void 0:ce.toSignificant(6))&&void 0!==un?un:"",symbolB:null!==(pn=null===(ue=Rn[h.gN.CURRENCY_B])||void 0===ue?void 0:ue.symbol)&&void 0!==pn?pn:""}),Ei=(0,p.useCallback)((function(){Fn&&In("")}),[In,Fn]),Ai=(0,T.mP)(null===Rn||void 0===Rn?void 0:Rn.CURRENCY_A,null===Rn||void 0===Rn?void 0:Rn.CURRENCY_B),Zi=(0,T.uK)(null===Rn||void 0===Rn?void 0:Rn.CURRENCY_A,null===Rn||void 0===Rn?void 0:Rn.CURRENCY_B),Bi=(0,Y.n9)(!0),Ui=(0,l.Z)((0,b.Z)((0,r.jsx)(Ae,{title:nn(An?"You are creating a pool":"You will receive"),customOnDismiss:Ei,attemptingTxn:Dn,hash:Fn,pendingText:bi,currencyToAdd:null===Nn||void 0===Nn?void 0:Nn.liquidityToken,allowedSlippage:ei,onAdd:fi,parsedAmounts:ci,currencies:Rn,liquidityErrorMessage:Ln,price:En,noLiquidity:An,poolTokenPercentage:Bn,liquidityMinted:Zn}),!0,!0,"addLiquidityModal"),1)[0];function _i(){return _i=(0,x.Z)((function(){var e,n,i,o,t,l,r,d,s,a,c,u,p,v,g,x,m,y,C,N,f,j,b,E;return(0,R.__generator)(this,(function(R){return ii&&ci&&ai.zapInEstimated&&Ie&&Bi?(r=ai.zapInEstimated.swapAmountOut.mul(1e4-ei).div(1e4),si?(u=ai.zapInEstimated.swapAmountIn.mul(1e4+ei).div(1e4),p=null===(d=ci[h.gN.CURRENCY_A])||void 0===d?void 0:d.toSignificant(3),v=null===(s=Rn[h.gN.CURRENCY_A])||void 0===s?void 0:s.symbol,g=null===(a=ci[h.gN.CURRENCY_B])||void 0===a?void 0:a.toSignificant(3),x=null===(c=Rn[h.gN.CURRENCY_B])||void 0===c?void 0:c.symbol,t="Zap ".concat(p," ").concat(v," and ").concat(g," ").concat(x),l={text:"Zap %amountA% %symbolA% and %amountB% %symbolB%",data:{amountA:p,symbolA:v,amountB:g,symbolB:x}},(null===Te||void 0===Te?void 0:Te.isNative)||(null===we||void 0===we?void 0:we.isNative)?(m=null===we||void 0===we?void 0:we.isNative,n="zapInBNBRebalancing",i=[(0,re.pu)(Rn[m?h.gN.CURRENCY_A:h.gN.CURRENCY_B],Ie).address,ci[m?h.gN.CURRENCY_A:h.gN.CURRENCY_B].quotient.toString(),Nn.liquidityToken.address,u,r,ai.zapInEstimated.isToken0Sold&&!m],o=ci[m?h.gN.CURRENCY_B:h.gN.CURRENCY_A].quotient.toString()):(n="zapInTokenRebalancing",i=[(0,re.pu)(Rn[h.gN.CURRENCY_A],Ie).address,(0,re.pu)(Rn[h.gN.CURRENCY_B],Ie).address,ci[h.gN.CURRENCY_A].quotient.toString(),ci[h.gN.CURRENCY_B].quotient.toString(),Nn.liquidityToken.address,u,r,ai.zapInEstimated.isToken0Sold])):(null===(e=Rn[ai.swapTokenField])||void 0===e?void 0:e.isNative)?(n="zapInBNB",i=[Nn.liquidityToken.address,r],C=null===(y=ci[ai.swapTokenField])||void 0===y?void 0:y.toSignificant(3),N=(0,z.z)(Nn.token0.symbol,Nn.token1.symbol),t="Zap in ".concat(C," BNB for ").concat(N),l={text:"Zap in %amount% BNB for %symbol%",data:{amount:C,symbol:N}},o=ci[ai.swapTokenField].quotient.toString()):(n="zapInToken",i=[(0,re.pu)(Rn[ai.swapTokenField],Ie).address,ci[ai.swapTokenField].quotient.toString(),Nn.liquidityToken.address,r],j=null===(f=ci[ai.swapTokenField])||void 0===f?void 0:f.toSignificant(3),b=Rn[ai.swapTokenField].symbol,E=(0,z.z)(Nn.token0.symbol,Nn.token1.symbol),t="Zap in ".concat(j," ").concat(b," for ").concat(E),l={text:"Zap in %amount% %symbol% for %lpSymbol%",data:{amount:j,symbol:b,lpSymbol:E}}),On({attemptingTxn:!0,liquidityErrorMessage:void 0,txHash:void 0}),(0,P.Zj)(Bi,n,i,o?{value:o,gasPrice:on}:{gasPrice:on}).then((function(e){On({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:e.hash}),Ri(e,{summary:t,translatableSummary:l,type:"add-liquidity"}),Nn&&Pe(Nn)})).catch((function(e){e&&4001!==e.code&&((0,S.H)(e),console.error("Add Liquidity failed",e,i,o)),On({attemptingTxn:!1,liquidityErrorMessage:e&&4001!==e.code?nn("Add liquidity failed: %message%",{message:(0,D.e)(e,nn)}):void 0,txHash:void 0})})),[2]):[2]}))})),_i.apply(this,arguments)}var Si=(0,l.Z)((0,b.Z)((0,r.jsx)(_e,{title:nn("You will receive"),customOnDismiss:Ei,attemptingTxn:Dn,hash:Fn,pendingText:bi,pair:Nn,allowedSlippage:ei,onAdd:function(){return _i.apply(this,arguments)},parsedAmounts:ci,currencies:Rn,liquidityErrorMessage:Ln,price:En,poolTokenPercentage:ai.poolTokenPercentage,liquidityMinted:ai.liquidityMinted,zapSwapTokenField:ai.swapTokenField,zapSwapOutTokenField:ai.swapOutTokenField,zapInEstimated:ai.zapInEstimated,rebalancing:si,zapMode:vn,toggleZapMode:$e}),!0,!0,"zapInModal"),1),Ti=Si[0],wi=!Un,ki=Un;ui?(wi=!Un&&!ai.error,ki=null!==Un&&void 0!==Un?Un:ai.error):(wi=!Un&&!_n,ki=null!==Un&&void 0!==Un?Un:_n);var Yi=!wi||(ai.parsedAmounts[h.gN.CURRENCY_A]||!ui&&$n)&&gi!==W.UK.APPROVED||(ai.parsedAmounts[h.gN.CURRENCY_B]||!ui&&Wn)&&yi!==W.UK.APPROVED||ai.priceSeverity>3&&ui,qi=($n||!ui)&&(gi===W.UK.NOT_APPROVED||gi===W.UK.PENDING),Ii=(Wn||!ui)&&(yi===W.UK.NOT_APPROVED||yi===W.UK.PENDING),zi=(qi||Ii)&&wi,Pi=Boolean(Ie&&(Te&&Te.equals(f.FX[Ie])||we&&we.equals(f.FX[Ie]))),Mi=!ci[h.gN.CURRENCY_A]&&!ci[h.gN.CURRENCY_B],Di=!!Rn[h.gN.CURRENCY_A]&&!!Rn[h.gN.CURRENCY_B]&&Je===Ke.Add||!ii,Li=ui&&!Mi&&(!si&&!(!$n&&!Wn)||si&&ai.priceSeverity>3),Fi=ui&&(ai.priceSeverity>3||ai.zapInEstimatedError)&&ni[ai.swapTokenField],Oi=!Li&&!Mi&&!Fi&&ui&&ai.isDependentAmountGreaterThanMaxAmount&&si,Gi=!Me&&!Li&&!Mi&&(!$n||!Wn)&&!An&&!(Nn&&f.QA.lessThan(Nn.reserve0.quotient,f.Xh)||Nn&&f.QA.lessThan(Nn.reserve1.quotient,f.Xh));return(0,r.jsxs)(ae.Z,{children:[(0,r.jsxs)(H.j,{children:[!Di&&(0,r.jsx)(He,{error:Un,currencyA:Rn[h.gN.CURRENCY_A],currencyB:Rn[h.gN.CURRENCY_B],onNext:function(){return en(Ke.Add)}}),Di&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.t,{title:(null===(pe=Rn[h.gN.CURRENCY_A])||void 0===pe?void 0:pe.symbol)&&(null===(ve=Rn[h.gN.CURRENCY_B])||void 0===ve?void 0:ve.symbol)?"".concat((0,z.z)(Rn[h.gN.CURRENCY_A].symbol,Rn[h.gN.CURRENCY_B].symbol)):nn("Add Liquidity"),subtitle:nn("Receive LP tokens."),helper:nn("Liquidity providers."),backTo:ii?function(){return en(Ke.Choose)}:"/liquidity"}),(0,r.jsx)(E.Z,{children:(0,r.jsxs)(G.Tz,{gap:"20px",children:[An&&(0,r.jsx)(G.lg,{children:(0,r.jsx)(A.Z,{variant:"warning",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(Z.Z,{bold:!0,mb:"8px",children:nn("You are the first liquidity provider.")}),(0,r.jsx)(Z.Z,{mb:"8px",children:nn("The ratio of tokens you add will set the price of this pool.")}),(0,r.jsx)(Z.Z,{children:nn("Once you are happy with the rate click supply to review.")})]})})}),(0,r.jsx)(V.Z,{disableCurrencySelect:ii,showBUSD:!0,onInputBlur:ii?ai.onInputBlurOnce:void 0,error:ai.priceSeverity>3&&ai.swapTokenField===h.gN.CURRENCY_A,disabled:ii&&!$n,beforeButton:ii&&(0,r.jsx)(Xe.y,{disabled:null===jn||void 0===jn||null===(he=jn[h.gN.CURRENCY_A])||void 0===he?void 0:he.equalTo(0),checked:$n,onChange:function(e){Hn(e.target.checked)}}),onCurrencySelect:ti,zapStyle:ii?"zap":"noZap",value:pi[h.gN.CURRENCY_A],onUserInput:In,onMax:function(){var e,n;In(null!==(n=null===(e=ni[h.gN.CURRENCY_A])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},showMaxButton:!vi[h.gN.CURRENCY_A],currency:Rn[h.gN.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,commonBasesType:Ve.L0.LIQUIDITY}),(0,r.jsx)(G.lg,{children:(0,r.jsx)(B.Z,{width:"16px"})}),(0,r.jsx)(V.Z,{showBUSD:!0,onInputBlur:ii?ai.onInputBlurOnce:void 0,disabled:ii&&!Wn,error:ai.priceSeverity>3&&ai.swapTokenField===h.gN.CURRENCY_B,beforeButton:ii&&(0,r.jsx)(Xe.y,{disabled:null===jn||void 0===jn||null===(ge=jn[h.gN.CURRENCY_B])||void 0===ge?void 0:ge.equalTo(0),checked:Wn,onChange:function(e){Qn(e.target.checked)}}),onCurrencySelect:li,disableCurrencySelect:ii,zapStyle:ii?"zap":"noZap",value:pi[h.gN.CURRENCY_B],onUserInput:zn,onMax:function(){var e,n;zn(null!==(n=null===(e=ni[h.gN.CURRENCY_B])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},showMaxButton:!vi[h.gN.CURRENCY_B],currency:Rn[h.gN.CURRENCY_B],id:"add-liquidity-input-tokenb",showCommonBases:!0,commonBasesType:Ve.L0.LIQUIDITY}),Li&&(0,r.jsx)(A.Z,{variant:ai.priceSeverity>3?"danger":"warning",children:ai.priceSeverity>3?(0,r.jsxs)(A.Y,{children:[nn("Price Impact Too High.")," ",(0,r.jsx)("strong",{children:nn("Reduce amount of %token% to maximum limit",{token:null===(xe=Rn[ai.swapTokenField])||void 0===xe?void 0:xe.symbol})})]}):(0,r.jsxs)(A.Y,{children:[(0,r.jsx)("strong",{children:nn("No %token% input.",{token:null===(me=Rn[ai.swapOutTokenField])||void 0===me?void 0:me.symbol})})," ",nn("Some of your %token0% will be converted to %token1%.",{token0:null===(ye=Rn[ai.swapTokenField])||void 0===ye?void 0:ye.symbol,token1:null===(Ce=Rn[ai.swapOutTokenField])||void 0===Ce?void 0:Ce.symbol})]})}),Fi&&(0,r.jsx)(X.DA,{style:{margin:"auto"},onClick:function(){return ai.convertToMaxZappable()},children:(0,r.jsx)(U.Z,{variant:"secondary",scale:"sm",children:nn("Reduce %token%",{token:null===(Re=Rn[ai.swapTokenField])||void 0===Re?void 0:Re.symbol})})}),Gi&&(0,r.jsx)(A.Z,{variant:"warning",children:(0,r.jsxs)(A.Y,{children:[nn("Zap allows you to add liquidity with only 1 single token. Click"),(0,r.jsx)(U.Z,{p:"0 4px",scale:"sm",variant:"text",height:"auto",onClick:function(){Me||$e(!Me)},children:nn("here")}),nn("to try.")]})}),Oi&&(0,r.jsx)(A.Z,{variant:"warning",children:(0,r.jsx)(G.Tz,{children:(0,r.jsxs)(A.Y,{children:[(0,r.jsx)("strong",{children:nn("Not enough %token%.",{token:null===(Ne=Rn[ai.swapOutTokenField])||void 0===Ne?void 0:Ne.symbol})})," ",ai.gasOverhead?nn("Some of your %token0% will be converted to %token1% before adding liquidity, but this may cause higher gas fees.",{token0:null===(fe=Rn[ai.swapTokenField])||void 0===fe?void 0:fe.symbol,token1:null===(je=Rn[ai.swapOutTokenField])||void 0===je?void 0:je.symbol}):nn("Some of your %token0% will be converted to %token1%.",{token0:null===(be=Rn[ai.swapTokenField])||void 0===be?void 0:be.symbol,token1:null===(Ee=Rn[ai.swapOutTokenField])||void 0===Ee?void 0:Ee.symbol})]})})}),Oi&&(0,r.jsx)(X.DA,{style:{margin:"auto"},onClick:function(){var e,n,i,o;Cn===h.gN.CURRENCY_A?In(null!==(n=null===(e=ni[Cn])||void 0===e?void 0:e.toExact())&&void 0!==n?n:""):zn(null!==(o=null===(i=ni[Cn])||void 0===i?void 0:i.toExact())&&void 0!==o?o:"")},children:(0,r.jsx)(U.Z,{variant:"secondary",scale:"sm",children:nn("Don\u2019t convert")})}),Rn[h.gN.CURRENCY_A]&&Rn[h.gN.CURRENCY_B]&&fn!==$._G.INVALID&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(O.hl,{padding:"0px",borderRadius:"20px",children:[(0,r.jsx)(X.m0,{padding:"1rem",children:(0,r.jsx)(Z.Z,{fontSize:"14px",children:nn(An?"Initial prices and pool share":"Prices and pool share")})})," ",(0,r.jsx)(O.hl,{padding:"1rem",borderRadius:"20px",children:(0,r.jsx)(se,{currencies:Rn,poolTokenPercentage:ui?ai.poolTokenPercentage:Bn,noLiquidity:An,price:En})})]})}),(0,r.jsxs)(X.m0,{children:[(0,r.jsx)(Z.Z,{bold:!0,fontSize:"12px",color:"secondary",children:nn("Slippage Tolerance")}),(0,r.jsxs)(Z.Z,{bold:!0,color:"primary",children:[ei/100,"%"]})]}),Nn&&Sn&&(0,r.jsxs)(X.m0,{children:[(0,r.jsx)(_.Z,{ref:wn,bold:!0,fontSize:"12px",color:"secondary",children:nn("LP reward APR")}),Yn&&kn,(0,r.jsxs)(Z.Z,{bold:!0,color:"primary",children:[(0,Fe.d)(Sn.lpApr7d),"%"]})]}),Ai||Zi?(0,r.jsx)(U.Z,{disabled:!0,mb:"4px",children:nn("Unsupported Asset")}):qe?ze?(0,r.jsx)(I.A,{}):(0,r.jsxs)(G.Tz,{gap:"md",children:[zi&&(0,r.jsxs)(X.m0,{style:{gap:"8px"},children:[qi&&(0,r.jsx)(U.Z,{onClick:xi,disabled:gi===W.UK.PENDING,width:"100%",children:gi===W.UK.PENDING?(0,r.jsx)(de.Z,{children:nn("Enabling %asset%",{asset:null===(Ze=Rn[h.gN.CURRENCY_A])||void 0===Ze?void 0:Ze.symbol})}):nn("Enable %asset%",{asset:null===(Be=Rn[h.gN.CURRENCY_A])||void 0===Be?void 0:Be.symbol})}),Ii&&(0,r.jsx)(U.Z,{onClick:Ci,disabled:yi===W.UK.PENDING,width:"100%",children:yi===W.UK.PENDING?(0,r.jsx)(de.Z,{children:nn("Enabling %asset%",{asset:null===(Ue=Rn[h.gN.CURRENCY_B])||void 0===Ue?void 0:Ue.symbol})}):nn("Enable %asset%",{asset:null===(Se=Rn[h.gN.CURRENCY_B])||void 0===Se?void 0:Se.symbol})})]}),(0,r.jsx)(I.A,{isLoading:ui&&di,variant:!wi||ai.priceSeverity>2?"danger":"primary",onClick:function(){if(ui)return On({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),void Ti();De?fi():(On({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),Ui())},disabled:Yi,children:ki||nn("Supply")})]}):(0,r.jsx)(Q.Z,{})]})})]})]}),Ai||Zi?(0,r.jsx)(k.Z,{currencies:[Rn.CURRENCY_A,Rn.CURRENCY_B]}):Nn&&!An&&fn!==$._G.INVALID?(0,r.jsx)(G.Tz,{style:{minWidth:"20rem",width:"100%",maxWidth:"400px",marginTop:"1rem"},children:(0,r.jsx)(K.WP,{showUnwrapped:Pi,pair:Nn})}):null]})}var We=i(12353),Je=i(34934);function en(e){var n,i,t,d,s,c,u,v,g,N,j,_,T,k,Y=e.currencyA,q=e.currencyB,z=(0,a.Z)(),P=z.account,M=z.chainId,L=z.isWrongNetwork,F=(0,ie.LO)(),J=(0,w.$G)().t,re=(0,ie.Fh)(),ce=(0,ee.OY)(),ue=ce.independentField,pe=ce.typedValue,ve=ce.otherTypedValue,he=(0,Je.L)(null!==Y&&void 0!==Y?Y:void 0,null!==q&&void 0!==q?q:void 0),ge=he.dependentField,xe=he.currencies,me=he.pair,ye=he.pairState,Ce=he.currencyBalances,Re=he.parsedAmounts,Ne=he.price,fe=he.noLiquidity,je=he.liquidityMinted,be=he.poolTokenPercentage,Ee=he.error,Ze=he.addError,Be=(0,ee.OA)(!0),Ue=Be.onFieldAInput,_e=Be.onFieldBInput,Se=(0,p.useState)({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),Te=Se[0],we=Te.attemptingTxn,ke=Te.liquidityErrorMessage,Ye=Te.txHash,qe=Se[1],Ie=(0,l.Z)((0,ie.$2)(),1)[0],ze=[h.gN.CURRENCY_A,h.gN.CURRENCY_B].reduce((function(e,n){return(0,y.Z)((0,o.Z)({},e),(0,m.Z)({},n,(0,le.i)(Ce[n])))}),{}),Pe=Ge(),Me=Pe.handleCurrencyASelect,De=Pe.handleCurrencyBSelect,Le=(0,p.useMemo)((function(){var e;return e={},(0,m.Z)(e,ue,pe),(0,m.Z)(e,ge,ve),e}),[ge,ue,ve,pe]),Fe=[h.gN.CURRENCY_A,h.gN.CURRENCY_B].reduce((function(e,n){var i,t;return(0,y.Z)((0,o.Z)({},e),(0,m.Z)({},n,null===(i=ze[n])||void 0===i?void 0:i.equalTo(null!==(t=Re[n])&&void 0!==t?t:"0")))}),{}),Oe=(0,p.useContext)(We.UA),He=Oe.stableSwapContract,Ke=Oe.stableSwapConfig,Xe=(0,l.Z)((0,W.qL)(Re[h.gN.CURRENCY_A],null===He||void 0===He?void 0:He.address),2),Qe=Xe[0],$e=Xe[1],en=(0,l.Z)((0,W.qL)(Re[h.gN.CURRENCY_B],null===He||void 0===He?void 0:He.address),2),nn=en[0],on=en[1],tn=(0,ne.h7)();function ln(){return rn.apply(this,arguments)}function rn(){return rn=(0,x.Z)((function(){var e,n,i,t,l,r,d,s,a,c,u,p,v,g,x;return(0,R.__generator)(this,(function(m){switch(m.label){case 0:return M&&P&&He?(s=Re[h.gN.CURRENCY_A],a=Re[h.gN.CURRENCY_B],s&&a&&Y&&q?(c=(0,te.uc)(je,fe?0:Ie)[0],u=He.estimateGas.add_liquidity,p=He.add_liquidity,v=(null===Ke||void 0===Ke||null===(e=Ke.token0)||void 0===e?void 0:e.address)===(null===s||void 0===s||null===(n=s.currency)||void 0===n||null===(i=n.wrapped)||void 0===i?void 0:i.address)?[null===s||void 0===s||null===(t=s.quotient)||void 0===t?void 0:t.toString(),null===a||void 0===a||null===(l=a.quotient)||void 0===l?void 0:l.toString()]:[null===a||void 0===a||null===(r=a.quotient)||void 0===r?void 0:r.toString(),null===s||void 0===s||null===(d=s.quotient)||void 0===d?void 0:d.toString()],g=[v,null===c||void 0===c?void 0:c.toString()],x=null,qe({attemptingTxn:!0,liquidityErrorMessage:void 0,txHash:void 0}),[4,u.apply(void 0,(0,C.Z)(g).concat([{}])).then((function(e){return p.apply(void 0,(0,C.Z)(g).concat([(0,y.Z)((0,o.Z)({},{}),{gasLimit:(0,oe.yC)(e),gasPrice:re})])).then((function(e){var n,i,o,t;qe({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:e.hash});var l=null===(n=xe[h.gN.CURRENCY_A])||void 0===n?void 0:n.symbol,r=null===(i=Re[h.gN.CURRENCY_A])||void 0===i?void 0:i.toSignificant(3),d=null===(o=xe[h.gN.CURRENCY_B])||void 0===o?void 0:o.symbol,s=null===(t=Re[h.gN.CURRENCY_B])||void 0===t?void 0:t.toSignificant(3);tn(e,{summary:"Add ".concat(r," ").concat(l," and ").concat(s," ").concat(d),translatableSummary:{text:"Add %amountA% %symbolA% and %amountB% %symbolB%",data:{amountA:r,symbolA:l,amountB:s,symbolB:d}},type:"add-liquidity"})}))})).catch((function(e){e&&4001!==e.code&&((0,S.H)(e),console.error("Add Liquidity failed",e,g,x)),qe({attemptingTxn:!1,liquidityErrorMessage:e&&4001!==e.code?J("Add liquidity failed: %message%",{message:(0,D.e)(e,J)}):void 0,txHash:void 0})}))]):[2]):[2];case 1:return m.sent(),[2]}}))})),rn.apply(this,arguments)}var dn,sn,an=J("Supplying %amountA% %symbolA% and %amountB% %symbolB%",{amountA:null!==(j=null===(n=Re[h.gN.CURRENCY_A])||void 0===n?void 0:n.toSignificant(6))&&void 0!==j?j:"",symbolA:null!==(_=null===(i=xe[h.gN.CURRENCY_A])||void 0===i?void 0:i.symbol)&&void 0!==_?_:"",amountB:null!==(T=null===(t=Re[h.gN.CURRENCY_B])||void 0===t?void 0:t.toSignificant(6))&&void 0!==T?T:"",symbolB:null!==(k=null===(d=xe[h.gN.CURRENCY_B])||void 0===d?void 0:d.symbol)&&void 0!==k?k:""}),cn=(0,p.useCallback)((function(){Ye&&(Ue(""),_e(""))}),[Ue,_e,Ye]),un=(0,l.Z)((0,b.Z)((0,r.jsx)(Ae,{title:J(fe?"You are creating a pool":"You will receive"),customOnDismiss:cn,attemptingTxn:we,hash:Ye,pendingText:an,currencyToAdd:null===me||void 0===me?void 0:me.liquidityToken,allowedSlippage:Ie,onAdd:ln,parsedAmounts:Re,currencies:xe,liquidityErrorMessage:ke,price:Ne,noLiquidity:fe,poolTokenPercentage:be,liquidityMinted:je,isStable:!0}),!0,!0,"addLiquidityModal"),1)[0];sn=null!==Ee&&void 0!==Ee?Ee:Ze;var pn=!(dn=!Ee&&!Ze)||Qe!==W.UK.APPROVED||nn!==W.UK.APPROVED,vn=Qe===W.UK.NOT_APPROVED||Qe===W.UK.PENDING,hn=nn===W.UK.NOT_APPROVED||nn===W.UK.PENDING,gn=(vn||hn)&&dn,xn=Boolean(M&&(Y&&Y.equals(f.FX[M])||q&&q.equals(f.FX[M])));return(0,r.jsxs)(ae.Z,{children:[(0,r.jsx)(H.j,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.t,{title:(null===(s=xe[h.gN.CURRENCY_A])||void 0===s?void 0:s.symbol)&&(null===(c=xe[h.gN.CURRENCY_B])||void 0===c?void 0:c.symbol)?"".concat(xe[h.gN.CURRENCY_A].symbol,"-").concat(xe[h.gN.CURRENCY_B].symbol," Stable LP"):J("Add Stable Liquidity"),backTo:"/liquidity"}),(0,r.jsx)(E.Z,{children:(0,r.jsxs)(G.Tz,{gap:"20px",children:[fe&&(0,r.jsx)(G.lg,{children:(0,r.jsx)(A.Z,{variant:"warning",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(Z.Z,{bold:!0,mb:"8px",children:J("You are the first liquidity provider.")}),(0,r.jsx)(Z.Z,{mb:"8px",children:J("The ratio of tokens you add will set the price of this pool.")}),(0,r.jsx)(Z.Z,{children:J("Once you are happy with the rate click supply to review.")})]})})}),(0,r.jsx)(V.Z,{showBUSD:!0,onCurrencySelect:Me,zapStyle:"noZap",value:Le[h.gN.CURRENCY_A],onUserInput:Ue,onMax:function(){var e,n;Ue(null!==(n=null===(e=ze[h.gN.CURRENCY_A])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},showMaxButton:!Fe[h.gN.CURRENCY_A],currency:xe[h.gN.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,commonBasesType:Ve.L0.LIQUIDITY}),(0,r.jsx)(G.lg,{children:(0,r.jsx)(B.Z,{width:"16px"})}),(0,r.jsx)(V.Z,{showBUSD:!0,onCurrencySelect:De,zapStyle:"noZap",value:Le[h.gN.CURRENCY_B],onUserInput:_e,onMax:function(){var e,n;_e(null!==(n=null===(e=ze[h.gN.CURRENCY_B])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},showMaxButton:!Fe[h.gN.CURRENCY_B],currency:xe[h.gN.CURRENCY_B],id:"add-liquidity-input-tokenb",showCommonBases:!0,commonBasesType:Ve.L0.LIQUIDITY}),xe[h.gN.CURRENCY_A]&&xe[h.gN.CURRENCY_B]&&ye!==$._G.INVALID&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(O.hl,{padding:"0px",borderRadius:"20px",children:[(0,r.jsx)(X.m0,{padding:"1rem",children:(0,r.jsx)(Z.Z,{fontSize:"14px",children:J(fe?"Initial prices and pool share":"Prices and pool share")})})," ",(0,r.jsx)(O.hl,{padding:"1rem",borderRadius:"20px",children:(0,r.jsx)(se,{currencies:xe,poolTokenPercentage:be,noLiquidity:fe,price:Ne})})]})}),(0,r.jsxs)(X.m0,{children:[(0,r.jsx)(Z.Z,{bold:!0,fontSize:"12px",color:"secondary",children:J("Slippage Tolerance")}),(0,r.jsxs)(Z.Z,{bold:!0,color:"primary",children:[Ie/100,"%"]})]}),P?L?(0,r.jsx)(I.A,{}):(0,r.jsxs)(G.Tz,{gap:"md",children:[gn&&(0,r.jsxs)(X.m0,{style:{gap:"8px"},children:[vn&&(0,r.jsx)(U.Z,{onClick:$e,disabled:Qe===W.UK.PENDING,width:"100%",children:Qe===W.UK.PENDING?(0,r.jsx)(de.Z,{children:J("Enabling %asset%",{asset:null===(u=xe[h.gN.CURRENCY_A])||void 0===u?void 0:u.symbol})}):J("Enable %asset%",{asset:null===(v=xe[h.gN.CURRENCY_A])||void 0===v?void 0:v.symbol})}),hn&&(0,r.jsx)(U.Z,{onClick:on,disabled:nn===W.UK.PENDING,width:"100%",children:nn===W.UK.PENDING?(0,r.jsx)(de.Z,{children:J("Enabling %asset%",{asset:null===(g=xe[h.gN.CURRENCY_B])||void 0===g?void 0:g.symbol})}):J("Enable %asset%",{asset:null===(N=xe[h.gN.CURRENCY_B])||void 0===N?void 0:N.symbol})})]}),(0,r.jsx)(I.A,{variant:dn?"primary":"danger",onClick:function(){F?ln():(qe({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),un())},disabled:pn,children:sn||J("Supply")})]}):(0,r.jsx)(Q.Z,{})]})})]})}),me&&!fe&&ye!==$._G.INVALID?(0,r.jsx)(G.Tz,{style:{minWidth:"20rem",width:"100%",maxWidth:"400px",marginTop:"1rem"},children:(0,r.jsx)(K.WP,{showUnwrapped:xn,pair:me})}):null]})}var nn=function(){var e,n,i,g=(0,u.useRouter)(),x=(0,a.Z)().chainId,m=(0,v.TL)(),y=(0,c.Z)(),C=(0,l.Z)(g.query.currency||[y.symbol,null!==(i=null===(e=d.cr[x])||void 0===e?void 0:e.address)&&void 0!==i?i:null===(n=d.gn[x])||void 0===n?void 0:n.address],2),R=C[0],N=C[1],f=(0,s.U8)(R),j=(0,s.U8)(N),b=(0,We.ZP)({tokenA:f,tokenB:j}),E=b.stableSwapConfig,A=(0,t.Z)(b,["stableSwapConfig"]);return(0,p.useEffect)((function(){R||N||m((0,h.dA)())}),[m,R,N]),E?(0,r.jsx)(We.UA.Provider,{value:(0,o.Z)({stableSwapConfig:E},A),children:(0,r.jsx)(en,{currencyA:f,currencyB:j})}):(0,r.jsx)($e,{currencyA:f,currencyB:j})};nn.chains=g.vo;var on=!0,tn=nn},11372:function(e,n,i){"use strict";i.d(n,{i:function(){return l}});var o=i(1505),t=i(56974);function l(e){var n;if(e)return(null===(n=e.currency)||void 0===n?void 0:n.isNative)?o.QA.greaterThan(e.quotient,t.Uz)?o.ih.fromRawAmount(e.currency,o.QA.subtract(e.quotient,t.Uz)):o.ih.fromRawAmount(e.currency,t.iV):e}}},function(e){e.O(0,[724,5675,4165,5855,6267,1102,3789,4601,6688,5443,2293,9774,2888,179],(function(){return n=32990,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=[[...currency]]-67e9e11710a2719c.js.map